<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->

<button
  [type]="type()"
  [disabled]="disabled() || loading()"
  (click)="clicked.emit($event)"
  class="focus:ring-brand-500/40 focus:ring-offset-surface inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all duration-200 focus:ring-2 focus:ring-offset-2 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50"
  [class]="
    (variant() === 'primary' ? 'bg-brand-600 hover:bg-brand-700 text-white shadow-sm hover:shadow-md' : '') +
    (variant() === 'secondary' ? 'border-border bg-surface text-text-primary hover:bg-surface-alt hover:border-border-strong border' : '') +
    (variant() === 'ghost' ? 'text-text-secondary hover:bg-surface-alt hover:text-text-primary' : '') +
    (variant() === 'danger' ? 'bg-red-600 text-white shadow-sm hover:bg-red-700 hover:shadow-md' : '') +
    ' ' +
    (size() === 'sm' ? 'px-3 py-1.5 text-xs' : '') +
    (size() === 'md' ? 'px-4 py-2 text-sm' : '') +
    (size() === 'lg' ? 'px-6 py-3 text-base' : '')
  ">
  @if (loading()) {
    <svg class="h-4 w-4 animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
    </svg>
  }
  <ng-content />
</button>
