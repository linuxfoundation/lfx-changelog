<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->

@if (loading()) {
  <div class="flex items-center justify-center py-24">
    <i class="fa-duotone fa-spinner-third text-brand-600 animate-spin text-3xl"></i>
  </div>
} @else if (product(); as product) {
  <div class="space-y-6">
    <div class="animate-slide-in-left flex items-center gap-4">
      <lfx-button variant="ghost" size="sm" (clicked)="goBack()">
        <i class="fa-solid fa-arrow-left text-xs"></i>
        Back
      </lfx-button>
      <div class="flex items-center gap-3">
        @if (product.faIcon) {
          <i [class]="product.faIcon" class="text-brand-600 text-2xl"></i>
        }
        <div>
          <h1 class="font-display text-text-primary text-2xl font-bold">{{ product.name }}</h1>
          <p class="text-text-muted font-mono text-sm">{{ product.slug }}</p>
        </div>
      </div>
    </div>

    <div class="animate-rise-in [animation-delay:100ms]">
      <lfx-tabs [tabs]="tabs" [(activeTab)]="activeTab" />
    </div>

    <div class="animate-fade-in-up [animation-delay:200ms]">
      @switch (activeTab()) {
        @case ('overview') {
          <lfx-product-overview-tab [product]="product" [productId]="product.id" />
        }
        @case ('repositories') {
          <lfx-product-repositories-tab [productId]="product.id" [callbackInstallationId]="callbackInstallationId()" />
        }
      }
    </div>
  </div>
}
